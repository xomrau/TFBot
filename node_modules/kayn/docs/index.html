<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">Home | kayn</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/cnguy/kayn.git"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoint.js~Endpoint.html">Endpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DEFAULT_KAYN_CONFIG">DEFAULT_KAYN_CONFIG</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-KAYN_CONFIG_STRUCT">KAYN_CONFIG_STRUCT</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#caches">Caches</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Caches/BasicJSCache.js~BasicJSCache.html">BasicJSCache</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Caches/RedisCache.js~RedisCache.html">RedisCache</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#endpoints">Endpoints</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/ChampionEndpoint.js~ChampionEndpoint.html">ChampionEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/ChampionMasteryEndpoint.js~ChampionMasteryEndpoint.html">ChampionMasteryEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/PlatformSuperclass.js~PlatformSuperclass.html">PlatformSuperclass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StatusEndpoint.js~StatusEndpoint.html">StatusEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/SummonerEndpoint.js~SummonerEndpoint.html">SummonerEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/ThirdPartyCodeEndpoint.js~ThirdPartyCodeEndpoint.html">ThirdPartyCodeEndpoint</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#endpoints-leagueendpoint">Endpoints/LeagueEndpoint</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/ChallengerEndpoint.js~ChallengerEndpoint.html">ChallengerEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/LeagueEndpoint.js~LeagueEndpoint.html">LeagueEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/LeaguePositionsEndpoint.js~LeaguePositionsEndpoint.html">LeaguePositionsEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/LeagueSuperclass.js~LeagueSuperclass.html">LeagueSuperclass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/LeaguesEndpoint.js~LeaguesEndpoint.html">LeaguesEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/LeagueEndpoint/MasterEndpoint.js~MasterEndpoint.html">MasterEndpoint</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#endpoints-matchendpoint">Endpoints/MatchEndpoint</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/MatchEndpoint/MatchEndpoint.js~MatchEndpoint.html">MatchEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/MatchEndpoint/MatchSuperclass.js~MatchSuperclass.html">MatchSuperclass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/MatchEndpoint/MatchlistEndpoint.js~MatchlistEndpoint.html">MatchlistEndpoint</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#endpoints-spectatorendpoint">Endpoints/SpectatorEndpoint</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/SpectatorEndpoint/CurrentGameEndpoint.js~CurrentGameEndpoint.html">CurrentGameEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/SpectatorEndpoint/FeaturedGamesEndpoint.js~FeaturedGamesEndpoint.html">FeaturedGamesEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/SpectatorEndpoint/SpectatorSuperclass.js~SpectatorSuperclass.html">SpectatorSuperclass</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#endpoints-staticendpoints">Endpoints/StaticEndpoints</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticChampionEndpoint.js~StaticChampionEndpoint.html">StaticChampionEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticItemEndpoint.js~StaticItemEndpoint.html">StaticItemEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticLanguageEndpoint.js~StaticLanguageEndpoint.html">StaticLanguageEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticLanguageStringsEndpoint.js~StaticLanguageStringsEndpoint.html">StaticLanguageStringsEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticMapEndpoint.js~StaticMapEndpoint.html">StaticMapEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticMasteryEndpoint.js~StaticMasteryEndpoint.html">StaticMasteryEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticProfileIconEndpoint.js~StaticProfileIconEndpoint.html">StaticProfileIconEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticRealmEndpoint.js~StaticRealmEndpoint.html">StaticRealmEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticRuneEndpoint.js~StaticRuneEndpoint.html">StaticRuneEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticSummonerSpellEndpoint.js~StaticSummonerSpellEndpoint.html">StaticSummonerSpellEndpoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticSuperclass.js~StaticSuperclass.html">StaticSuperclass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Endpoints/StaticEndpoints/StaticVersionEndpoint.js~StaticVersionEndpoint.html">StaticVersionEndpoint</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#enums">Enums</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-defaultTTLs">defaultTTLs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-platformIDs">platformIDs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-regions">regions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-services">services</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#errors">Errors</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/Errors/ParameterError.js~ParameterError.html">ParameterError</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#requestclient">RequestClient</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Request">Request</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#utils">Utils</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setupTTLs">setupTTLs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ParameterHelper">ParameterHelper</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RegionHelper">RegionHelper</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><p>A small library to work with Riot&apos;s League of Legend&apos;s API.</p>
<p><a href="https://nodei.co/npm/kayn/"><img src="https://nodei.co/npm/kayn.png" alt="NPM"></a></p>
<p><a href="https://travis-ci.org/cnguy/kayn"><img src="https://travis-ci.org/cnguy/kayn.svg?branch=master" alt="Build Status"></a>
<a href="https://codecov.io/gh/cnguy/kayn"><img src="https://codecov.io/gh/cnguy/kayn/branch/master/graph/badge.svg" alt="codecov"></a>
<a href="https://david-dm.org/cnguy/kayn"><img src="https://david-dm.org/cnguy/kayn/status.svg" alt="dependencies Status"></a></p>
<p>Wiki is not updated. It currently is documentation about the old <code>kindred-api</code>.</p>
<h1 id="table-of-contents-">Table of Contents:</h1><ul>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#my-project">My Project</a></li>
<li><a href="#coverage">Coverage</a></li>
<li><a href="#basic-usage">Basic Usage / Initialization / Configuration</a></li>
<li><a href="#current-api">Current API</a><ul>
<li><a href="#request-naming-conventions">Request Naming Conventions</a></li>
<li><a href="#setting-the-region-of-a-request">Setting the Region of a Request</a></li>
<li><a href="#adding-query-parameters-to-a-request">Adding Query Parameters to a Request</a></li>
<li><a href="#promises">Promises</a></li>
<li><a href="#await">Await</a></li>
<li><a href="#callbacks">Callbacks</a></li>
<li><a href="#high-level-overview-of-api">High-level Overview of API</a></li>
</ul>
</li>
<li><a href="#caching">Caching</a></li>
<li><a href="#typescript">TypeScript</a></li>
<li><a href="#bugs">Bugs</a></li>
<li><a href="#changelog">Changelog</a></li>
<li><a href="#disclaimer">Disclaimer</a></li>
</ul>
<h1 id="documentation">Documentation</h1><p>Still under construction!</p>
<p>ESDoc -<a href="http://kayn.surge.sh/">http://kayn.surge.sh/</a></p>
<h1 id="installation">Installation</h1><pre><code class="lang-sh"><code class="source-code prettyprint">yarn add kayn
# or npm -i kayn --save</code>
</code></pre>
<h1 id="features">Features</h1><ul>
<li><a href="https://github.com/Colorfulstan/RiotRateLimiter-node">Rate limiting</a> </li>
<li>All regular endpoints implemented</li>
<li>Basic caching (in memory cache, redis cache)</li>
<li>API works with both callbacks &amp; promises</li>
<li>Basic TypeScript support (WIP)</li>
</ul>
<h1 id="coverage">Coverage</h1><h2 id="champion-mastery-v3">CHAMPION-MASTERY-V3</h2><ul>
<li>[x] <code>Get all champion mastery entries sorted by number of champion points descending,</code></li>
<li>[x] <code>Get a champion mastery by player ID and champion ID.</code></li>
<li>[x] <code>Get a player&apos;s total champion mastery score, which is the sum of individual champion mastery levels.</code></li>
</ul>
<h2 id="champion-v3">CHAMPION-V3</h2><ul>
<li>[x] <code>Retrieve all champions.</code></li>
<li>[x] <code>Retrieve champion by ID.</code></li>
</ul>
<h2 id="league-v3">LEAGUE-V3</h2><ul>
<li>[x] - <code>Get the challenger league for given queue.</code></li>
<li>[x] - <code>Get leagues in all queues for a given summoner ID.</code> (Riot plans to deprecate this by January)</li>
<li>[x] - <code>Get league with given ID, including inactive entries.</code></li>
<li>[x] - <code>Get the master league for given queue.</code></li>
<li>[x] - <code>Get league positions in all queues for given summoner ID.</code></li>
</ul>
<h2 id="lol-static-data-v3">LOL-STATIC-DATA-V3</h2><ul>
<li>[x] - <code>Retrieves champion list.</code></li>
<li>[x] - <code>Retrieves champion by ID.</code></li>
<li>[x] - <code>Retrieves item list.</code></li>
<li>[x] - <code>Retrieves item by ID.</code></li>
<li>[x] - <code>Retrieve language strings data.</code></li>
<li>[x] - <code>Retrieve supported languages data.</code></li>
<li>[x] - <code>Retrieve map data.</code></li>
<li>[x] - <code>Retrieves mastery list.</code></li>
<li>[x] - <code>Retrieves mastery item by ID.</code></li>
<li>[x] - <code>Retrieve profile icons.</code></li>
<li>[x] - <code>Retrieve realm data.</code></li>
<li>[x] - <code>Retrieves rune list.</code></li>
<li>[x] - <code>Retrieves rune by ID.</code></li>
<li>[x] - <code>Retrieves summoner spell list.</code></li>
<li>[x] - <code>Retrieves summoner spell by ID.</code></li>
<li>[x] - <code>Retrieve version data.</code></li>
</ul>
<h2 id="lol-status-v3">LOL-STATUS-V3</h2><ul>
<li>[x] - <code>Get League of Legends status for the given shard.</code></li>
</ul>
<h2 id="match-v3">MATCH-V3</h2><ul>
<li>[x] - <code>Get match by match ID.</code></li>
<li>[x] - <code>Get matchlist for games played on given account ID and platform ID and filtered using given filter parameters, if any.</code></li>
<li>[x] - <code>Get matchlist for last 20 matches played on given account ID and platform ID.</code></li>
<li>[x] - <code>Get match timeline by match ID.</code></li>
<li>[ ] - <code>Get match IDs by tournament code.</code></li>
<li>[ ] - <code>Get match by match ID and tournament code.</code></li>
</ul>
<h2 id="spectator-v3">SPECTATOR-V3</h2><ul>
<li>[x] - <code>Get current game information for the given summoner ID.</code></li>
<li>[x] - <code>Get list of featured games.</code></li>
</ul>
<h2 id="summoner-v3">SUMMONER-V3</h2><ul>
<li>[x] - <code>Get a summoner by account ID.</code></li>
<li>[x] - <code>Get a summoner by summoner name.</code></li>
<li>[x] - <code>Get a summoner by summoner ID.</code></li>
</ul>
<h2 id="tournament-stub-v3">TOURNAMENT-STUB-V3</h2><ul>
<li>[ ] - <code>Create a mock tournament code for the given tournament.</code></li>
<li>[ ] - <code>Gets a mock list of lobby events by tournament code.</code></li>
<li>[ ] - <code>Creates a mock tournament provider and return its ID.</code></li>
<li>[ ] - <code>Creates a mock tournament and return its ID.</code></li>
</ul>
<h2 id="tournament-v3">TOURNAMENT-V3</h2><ul>
<li>[ ] - <code>Create a tournament code for the given tournament.</code></li>
<li>[ ] - <code>Update the pick type, map, spectator type, or allowed summoners for a code.</code></li>
<li>[ ] - <code>Returns the tournament code DTO associated with a tournament code string.</code></li>
<li>[ ] - <code>Gets a list of lobby events by tournament code.</code></li>
<li>[ ] - <code>Creates a tournament provider and return its ID.</code></li>
<li>[ ] - <code>Creates a tournament and return its ID.</code></li>
</ul>
<h1 id="my-project">My Project</h1><p>If you&apos;re interested in what I have built using this library, here&apos;s a small web application I made, along with the original reddit post.</p>
<p>One Tricks:</p>
<ul>
<li>site: <a href="http://onetricks.net">http://onetricks.net</a></li>
<li>reddit link: <a href="https://www.reddit.com/r/leagueoflegends/comments/5x1c5c/hi_i_made_a_small_website_to_compile_a_list_of/">https://www.reddit.com/r/leagueoflegends/comments/5x1c5c/hi_i_made_a_small_website_to_compile_a_list_of/</a></li>
<li>src: <a href="https://github.com/cnguy/OneTricks">https://github.com/cnguy/OneTricks</a></li>
</ul>
<p>Here are the requests stats for anyone interested.</p>
<p>Note that my requests stats are a bit inflated because I&apos;ve experimented with different season data, and also forgot to cache getMatchlist calls early on.</p>
<p><img src="/_pictures/number_of_requests.png?raw=true" alt="Alt text" title="onetricks.net"></p>
<h1 id="basic-usage">Basic Usage</h1><p>To see what endpoints are implemented, check out the  <a href="#high-level-overview-of-api">High-level Overview of API</a>.</p>
<p>When you import the Kayn class,</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">const { Kayn } = require(&apos;kayn&apos;);</code>
</code></pre>
<p>you&apos;re actually importing the <code>init</code> function.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">const init = key =&gt; config =&gt; {
  return new Kayn(key, config);
};</code>
</code></pre>
<p>This means you don&apos;t have to construct the object using <code>new</code>. Furthermore, <code>init</code> will automatically look for a <code>.env</code> file that has the key-value pair below:</p>
<pre><code class="lang-sh"><code class="source-code prettyprint"># .env
RIOT_LOL_API_KEY=&lt;key&gt;</code>
</code></pre>
<p>Using this is preferable as you generally don&apos;t commit <code>.env</code> files to GitHub.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">const {
  Kayn,
  REGIONS,
  METHOD_NAMES,
  BasicJSCache,
  RedisCache,
} = require(&apos;kayn&apos;);

// to initialize Kayn without a .env file
// const Kayn = Kayn(&apos;RGAPI-mykey&apos;)({ optional: &apos;config&apos; })

const kayn = Kayn(&apos;my-optional-key&apos;)({
  // DEFAULT CONFIG
  // if you pass in a config,
  // the rest of the top-level config will be merged
  // into your config.
  // ex: if you pass in just debugOptions to disable it,
  // requestOptions and the (empty) cacheOptions will be used 
  region: &apos;na&apos;, // default region
  debugOptions: {
    isEnabled: true,
    showKey: false,
  },
  requestOptions: {
    shouldRetry: true,
    numberOfRetriesBeforeAbort: 3,
    delayBeforeRetry: 1000,
    burst: false,
  },
  cacheOptions: {
    cache: null,
    ttls: {}, 
  },
});

kayn.Summoner.by
  .name(&apos;Contractz&apos;)
  // If this region call is not appended,
  // the region specified in your config is used,
  // or &apos;na&apos; is used because of the default config.
  .region(REGIONS.NORTH_AMERICA)
  .callback(function(err, summoner) {
    if (summoner) {
      const mlConfig = {
        season: 9,
        champion: 67,
      };
      kayn.Matchlist.by
        .accountID(summoner.accountId)
        .region(REGIONS.NORTH_AMERICA)
        .query(mlConfig)
        .callback(function(err, matchlistDTO) {
          const str = &apos;number of matches: &apos;;
          console.log(str + matchlistDTO.matches.length);
        });
    }
  });

kayn.Summoner.by
  .name(&apos;Contractz&apos;)
  .region(REGIONS.NORTH_AMERICA)
  .then(summoner =&gt;
    kayn.Matchlist.by
      .accountID(summoner.accountId)
      .query({ season: 9 })
      .query({ champion: 67 }),
  )
  .then(matchlistDTO =&gt; {
    console.log(&apos;number of matches:&apos;, matchlistDTO.matches.length);
  })
  .catch(err =&gt; console.error(err));

const main = async () =&gt; {
  const summoner = await kayn.Summoner.by.name(&apos;Contractz&apos;);
  const config = {
    season: 9,
    champion: 67,
  };
  const matchlistDTO = await kayn.Matchlist.by
    .accountID(summoner.accountId)
    .query(config);
  console.log(&apos;number of matches:&apos;, matchlistDTO.matches.length);
}
main();</code>
</code></pre>
<p>Check <code>example.js</code> and the files in the <code>recipes</code> directory (they&apos;re more just random composition of functions lol) for more usage.</p>
<h1 id="current-api">Current API</h1><p><code>kayn</code> methods do not take <code>region</code>, <code>query</code>, or <code>callback</code> arguments like in <code>kindred-api</code> and other libraries. As of now, the maximum amount of arguments a <code>kayn</code> method can take is 1, with one exception (ChampionMastery.get, which takes 2). You&apos;ll see why later below.</p>
<p><code>kayn</code>&apos;s api is reliant on regions instead of platform ids. Regions are transformed to platform ids within the code wherever necessary.</p>
<h2 id="request-naming-conventions">Request Naming Conventions</h2><p><code>get</code>: to target and grab something specific, where the parameters are also easy to guess (Match.get would be grabbing a match via its match id). However, runes/matchlist take different arguments (summoner id vs account id), and so they use the <code>by.xxx</code> naming below.</p>
<p><code>list</code>: to list out something (e.g. a list of champions, a list of challengers, etc).</p>
<p><code>by.xxx</code>: <code>by.summonerName</code>, <code>by.accountID</code>, <code>by.summonerID</code> is everywhere necessary (e.g. <code>Matchlist.by.accountID</code>, <code>Runes.by.summonerID</code>). It&apos;s explicit for <code>Matchlist</code>, <code>Masteries</code>, etc to make the call much more clear. However, the <code>Summoner</code> namespace simply uses <code>name</code>, <code>id</code>, and <code>accountID</code>. I have not added extra methods like <code>Matchlist.by.summonerName</code> yet. This naming makes the request parameter guessable.</p>
<h2 id="setting-the-region-of-a-request">Setting the Region of a Request</h2><p>Append <code>.region(regionAbbr)</code> to a call to set the region. If no region is appended, then we use the default region which is <code>na</code> or whatever the user passed in.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">kayn.Summoner.by.name(&apos;Faker&apos;).region(&apos;kr&apos;)</code>
</code></pre>
<h2 id="adding-query-parameters-to-a-request">Adding Query Parameters to a Request</h2><p>Append <code>.query(key-&gt;value)</code> to a call to add a query. A query is just a regular JavaScript object. Therefore, you can either chain multiple query parameters together, or pass in a whole blob at once.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">const config = {
    season: 7,
    champion: 67,
    queue: 420,
}

kayn.Matchlist.by.accountID(accountID).query(config)

kayn.Matchlist.by.accountID(accountID)
    .query({ season: 7 })
    .query({ champion: 67 })
    .query({ queue: 420 })</code>
</code></pre>
<h2 id="promises">Promises</h2><p>All <code>kayn</code> methods support promises. </p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">const promise = kayn.Summoner.by.name(&apos;Contractz&apos;)
promise
    .then(data =&gt; console.log(data))
    .catch(err =&gt; console.error(err))</code>
</code></pre>
<h2 id="await">Await</h2><p>Naturally, you can <code>await</code> any method as long as you have not called <code>.callback</code>.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">const main = async () =&gt; {
    try {
        const summoner = await kayn.Summoner.by.name(&apos;Contractz&apos;)
    } catch (ex) {
        console.error(ex)
    }
}</code>
</code></pre>
<h2 id="callbacks">Callbacks</h2><p>This is simply a renaming of <code>superagent</code>&apos;s <code>end</code> method. As stated before, <code>kayn</code> methods do not have callback parameters.</p>
<p>However, passing in callbacks is still trivial. This is similar to how <code>region</code> and <code>query</code> are set as well (thanks <code>superagent</code>).</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">const printBoth = (err, data) =&gt; console.log(err, data)
kayn.Summoner.by.name(&apos;Contractz&apos;).callback(printBoth)</code>
</code></pre>
<h2 id="high-level-overview-of-api">High-level Overview of API</h2><p>This is all (both endpoints &amp; methods) in the same order as in the official docs.</p>
<p>Note that the API is not fully consistent. I wanted the API to be readable &amp; easy-to-use-without-documentation, but still be somewhat terse, and so exceptions had to be made for now.</p>
<p>Also note that there is not a one-to-one mapping between namespaces/methods &amp; the official endpoints/resources -- This API somewhat mirrors <code>kindred-api</code> in that I separated some resources to make it more convenient for the user (<code>Matchlist</code>, <code>CurrentGame</code>, and <code>FeaturedGames</code> are some examples of this, as <code>Matchlist</code> actually belongs to <code>Match</code>, and <code>CurrentGame</code> and <code>FeaturedGames</code> both belong to <code>Spectator</code>).</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">/* CHAMPION-MASTERY-V3 */
ChampionMastery.list(summonerID: int)
ChampionMastery.get(summonerID: int)(championID: int)
ChampionMastery.totalScore(summonerID: int)

/* CHAMPION-V3 */
Champion.list()
Champion.get(championID: int)

/* LEAGUE-V3 */
Challenger.list(queueName: string)
Leagues.by.summonerID(summonerID: int)
League.by.uuid(leagueUUID: string)
Master.list(queueName: string)
LeaguePositions.by.summonerID(summonerID: int)

/* LOL-STATIC-DATA-V3 */
Static.Champion.list()
Static.Champion.get(championID: int)
Static.Item.list()
Static.Item.get(itemID: int)
Static.LanguageString.list()
Static.Language.list()
Static.Map.get()
Static.Mastery.list()
Static.Mastery.get(masteryID: int)
Static.ProfileIcon.list()
Static.Realm.get()
Static.Rune.list()
Static.Rune.get(runeID: int)
Static.SummonerSpell.list()
Static.SummonerSpell.get(summonerSpellID: int)
Static.Version.list()

/* LOL-STATUS-V3 */
Status.get()

/* MATCH-V3 */
Match.get(matchID: int)
Matchlist.by.accountID(accountID: int)
Matchlist.Recent.by.accountID(accountID: int)
Match.timeline(matchID: int)

/* SPECTATOR-V3 */
CurrentGame.by.summonerID(summonerID: int)
FeaturedGames.list()

/* SUMMONER-V3 */
Summoner.by.name(summonerName: string)
Summoner.by.id(summonerID: int)
Summoner.by.accountID(accountID: int)

/* THIRD-PARTY-CODE-V3 */
ThirdPartyCode.by.summonerID(summonerID: int)</code>
</code></pre>
<h1 id="caching">Caching</h1><p>To cache, firstly create some Cache that has a get/set function, and then pass it to <code>cacheOptions.cache</code>.</p>
<p><code>ttls</code> are method ttls. This part is pretty inconvenient right now. Suggestions are welcome.</p>
<p>Current caches:</p>
<ul>
<li>basic in-memory cache </li>
<li>Redis cache</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import {
    Kayn,
    REGIONS,
    METHOD_NAMES,
    BasicJSCache,
    RedisCache,
} from &apos;kayn&apos;;

const redisCache = new RedisCache({
  host: &apos;localhost&apos;,
  port: 5000,
  keyPrefix: &apos;kayn&apos;,
})

const basicCache = new BasicCache();

const myCache = redisCache; // or basicCache

const kayn = Kayn(/* optional key */)({
  region: &apos;na&apos;,
  debugOptions: {
    isEnabled: true,
    showKey: false,
  },
  requestOptions: {
    shouldRetry: true,
    numberOfRetriesBeforeAbort: 3,
    delayBeforeRetry: 1000,
  },
  cacheOptions: {
    cache: myCache,
    ttls: {
        [METHOD_NAMES.SUMMONER.GET_BY_SUMMONER_NAME]: 1000, // ms
    },
  },
});

kayn.Summoner.by.name(&apos;Contractz&apos;).then(() =&gt; kayn.Summoner.by.name(&apos;Contractz&apos;));

/*
200 @ https://na1.api.riotgames.com/lol/summoner/v3/summoners/by-name/Contractz
CACHE HIT @ https://na1.api.riotgames.com/lol/summoner/v3/summoners/by-name/Contractz
*/</code>
</code></pre>
<h2 id="flushing-the-cache">Flushing the Cache</h2><pre><code class="lang-javascript"><code class="source-code prettyprint">// BasicJSCache O(1)
// synchronous
kayn.flushCache();
// this has been turned into a promise so that it can be chained.
// still can just be called normally though.
// the `data` parameter returns &quot;OK&quot; just like in the RedisCache.
async1
  .then(() =&gt; kayn.flushCache())
  .then(console.log) // prints OK always. there&apos;s no way to get an error.
  .catch(console.err);

// RedisCache O(N)
// asynchronous
kayn.flushCache(function (err, ok) {
  console.log(ok === &quot;OK&quot;);
});

const flush = async () =&gt; {
  try {
    await kayn.flushCache(); // returns &quot;OK&quot;, but not really necessary to store.
  } catch (exception) {
    console.log(exception);
  }
}

async1
  .then(() =&gt; async2())
  .then(() =&gt; kayn.flushCache())
  .catch(console.log);</code>
</code></pre>
<h1 id="typescript">TypeScript</h1><p>Basic TypeScript support should automatically be integrated upon requiring this module.</p>
<p>source: <a href="https://github.com/cnguy/kayn/blob/master/typings/index.d.ts">index.d.ts</a></p>
<h1 id="bugs">Bugs</h1><p>Feel free to make an issue (bug, typos, questions, suggestions, whatever) or pull request to fix an issue. Just remember to run <code>prettier</code> (via <code>yarn lint</code>).</p>
<p>Package commands:</p>
<ul>
<li><code>yarn lint</code>
for <code>prettier</code> (will add <code>eslint</code> to <code>prettier</code> soon)</li>
<li><code>yarn example</code>
to run the various files in <code>./examples</code></li>
<li><code>yarn build</code>
to build. <code>yarn example</code> runs this command</li>
<li><code>yarn test</code></li>
</ul>
<h1 id="changelog">Changelog</h1><p>Go to <a href="https://github.com/cnguy/kayn/blob/master/CHANGELOG.md">CHANGELOG.md</a>.</p>
<p>As long this library is pre-1.0.0, breaking changes may be made, but will be documented and will generally not be drastic. Upon 1.0.0, SemVer will be followed strictly.</p>
<h1 id="disclaimer">Disclaimer</h1><p><code>kayn</code> isn&apos;t endorsed by Riot Games and doesn&apos;t reflect the views or opinions of Riot Games or anyone officially involved in producing or managing League of Legends. League of Legends and Riot Games are trademarks or registered trademarks of Riot Games, Inc. League of Legends &#xA9; Riot Games, Inc.</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.3)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
